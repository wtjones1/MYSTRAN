noinst_LIBRARIES = libutil.a

libutil_a_LIBADD =
libutil_a_LINK = $(F90LINK)

MODULE_DIR=@top_builddir@/src/Windows/Modules
ARPACK_DIR=@top_builddir@/src/Windows/Modules/ARPACK
BANDIT_DIR=@top_builddir@/src/Windows/Modules/BANDIT
LAPACK_DIR=@top_builddir@/src/Windows/Modules/LAPACK
INTERF_DIR=@top_builddir@/src/Interfaces
USEIFS_DIR=@top_builddir@/src/USE_IFs

AM_FCFLAGS = \
	$(FC_MODINC)$(MODULE_DIR) \
	$(FC_MODINC)$(ARPACK_DIR) \
	$(FC_MODINC)$(BANDIT_DIR) \
	$(FC_MODINC)$(LAPACK_DIR) \
	$(FC_MODINC)$(INTERF_DIR) \
	$(FC_MODINC)$(USEIFS_DIR)

util_SOURCES = \
	ALLOCATED_MEMORY.f90 \
	ALLOCATE_CB_ELM_OTM.f90 \
	ALLOCATE_CB_GRD_OTM.f90 \
	ALLOCATE_COL_VEC.f90 \
	ALLOCATE_DOF_TABLES.f90 \
	ALLOCATE_EIGEN1_MAT.f90 \
	ALLOCATE_FULL_MAT.f90 \
	ALLOCATE_IN4_FILES.f90 \
	ALLOCATE_LAPACK_MAT.f90 \
	ALLOCATE_MISC_MAT.f90 \
	ALLOCATE_MODEL_STUF.f90 \
	ALLOCATE_NL_PARAMS.f90 \
	ALLOCATE_RBGLOBAL.f90 \
	ALLOCATE_SCR_CCS_MAT.f90 \
	ALLOCATE_SCR_CRS_MAT.f90 \
	ALLOCATE_SPARSE_ALG.f90 \
	ALLOCATE_SPARSE_MAT.f90 \
	ARRAY_SIZE_ERROR_1.f90 \
	AUTOSPC_SUMMARY_MSGS.f90 \
	BANDGEN_LAPACK_DGB.f90 \
	BANDGEN_LAPACK_DPB.f90 \
	BANDSIZ.f90 \
	CALC_TDOF_ROW_START.f90 \
	CALC_VEC_SORT_ORDER.f90 \
	CARD_FLDS_NOT_BLANK.f90 \
	CHECK_MAT_INVERSE.f90 \
	CHK_ARRAY_ALLOC_STAT.f90 \
	CLOSE_LIJFILES.f90 \
	CLOSE_OUTFILES.f90 \
	CNT_NONZ_IN_FULL_MAT.f90 \
	COND_NUM.f90 \
	CONVERT_INT_TO_CHAR.f90 \
	CONVERT_VEC_COORD_SYS.f90 \
	CROSS.f90 \
	CRS_NONSYM_TO_CRS_SYM.f90 \
	CRS_SYM_TO_CRS_NONSYM.f90 \
	DATA_SET_NAME_ERROR.f90 \
	DATA_SET_SIZE_ERROR.f90 \
	DEALLOCATE_CB_ELM_OTM.f90 \
	DEALLOCATE_CB_GRD_OTM.f90 \
	DEALLOCATE_COL_VEC.f90 \
	DEALLOCATE_DOF_TABLES.f90 \
	DEALLOCATE_EIGEN1_MAT.f90 \
	DEALLOCATE_FULL_MAT.f90 \
	DEALLOCATE_IN4_FILES.f90 \
	DEALLOCATE_LAPACK_MAT.f90 \
	DEALLOCATE_MISC_MAT.f90 \
	DEALLOCATE_MODEL_STUF.f90 \
	DEALLOCATE_NL_PARAMS.f90 \
	DEALLOCATE_RBGLOBAL.f90 \
	DEALLOCATE_SCR_MAT.f90 \
	DEALLOCATE_SPARSE_ALG.f90 \
	DEALLOCATE_SPARSE_MAT.f90 \
	FBS_IntMKL.f90 \
	FBS_LAPACK.f90 \
	FILERR.f90 \
	FILE_CLOSE.f90 \
	FILE_INQUIRE.f90 \
	FILE_OPEN.f90 \
	FULL_TO_SPARSE_CRS.f90 \
	GEN_T0L.f90 \
	GET_ARRAY_ROW_NUM.f90 \
	GET_CHAR_STRING_END.f90 \
	GET_FORMATTED_INTEGER.f90 \
	GET_GRID_AND_COMP.f90 \
	GET_GRID_NUM_COMPS.f90 \
	GET_I2_MAT_FROM_I_MAT.f90 \
	GET_I_MAT_FROM_I2_MAT.f90 \
	GET_MACHINE_PARAMS.f90 \
	GET_MATRIX_DIAG_STATS.f90 \
	GET_OU4_MAT_STATS.f90 \
	GET_SPARSE_CRS_COL.f90 \
	GET_SPARSE_CRS_ROW.f90 \
	GET_SPARSE_MAT_TERM.f90 \
	GET_SP_ENVIRON_VARS.f90 \
	GET_UG_123_IN_GRD_ORD.f90 \
	GET_VEC_MIN_MAX_ABS.f90 \
	INVERT_FF_MAT.f90 \
	IntMKL_ERROR_MSGS.f90 \
	MATADD_FFF.f90 \
	MATADD_SSS.f90 \
	MATADD_SSS_NTERM.f90 \
	MATMULT_FFF.f90 \
	MATMULT_FFF_T.f90 \
	MATMULT_SFF.f90 \
	MATMULT_SFS.f90 \
	MATMULT_SFS_NTERM.f90 \
	MATMULT_SSS.f90 \
	MATMULT_SSS_NTERM.f90 \
	MATTRNSP_SS.f90 \
	MERGE_COL_VECS.f90 \
	MERGE_MAT_COLS_SSS.f90 \
	MERGE_MAT_ROWS_SSS.f90 \
	OPEN_OUTFILES.f90 \
	OPNERR.f90 \
	OURDAT.f90 \
	OURTIM.f90 \
	OUTA_HERE.f90 \
	OUTPUT4_MATRIX_MSGS.f90 \
	OUTPUT4_PROC.f90 \
	PARAM_CORDS_ACT_CORDS.f90 \
	PARSE_CHAR_STRING.f90 \
	PARTITION_FF.f90 \
	PARTITION_SS.f90 \
	PARTITION_SS_NTERM.f90 \
	PARTITION_VEC.f90 \
	PLANE_COORD_TRANS_21.f90 \
	PRINT_SP_ENVIRON_VARS.f90 \
	PROJ_VEC_ONTO_PLANE.f90 \
	PRT_MATS_ON_RESTART.f90 \
	READERR.f90 \
	READ_CHK.f90 \
	READ_CL.f90 \
	READ_DOF_TABLES.f90 \
	READ_IN4_FULL_MAT.f90 \
	READ_L1A.f90 \
	READ_L1M.f90 \
	READ_L1Z.f90 \
	READ_MATRIX_1.f90 \
	READ_MATRIX_2.f90 \
	READ_XTIME.f90 \
	REAL_DATA_TO_C8FLD.f90 \
	RESTART_DATA_FOR_L3.f90 \
	RIGID_BODY_DISP_MAT.f90 \
	ROW_AT_COLJ_BEGEND.f90 \
	SET_FILE_CLOSE_STAT.f90 \
	SET_SPARSE_MAT_SYM.f90 \
	SORTLEN.f90 \
	SORT_GRID_RGRID.f90 \
	SORT_INT1.f90 \
	SORT_INT1_REAL1.f90 \
	SORT_INT1_REAL3.f90 \
	SORT_INT2.f90 \
	SORT_INT2_REAL1.f90 \
	SORT_INT3.f90 \
	SORT_INT3_CHAR2.f90 \
	SORT_REAL1_INT1.f90 \
	SORT_TDOF.f90 \
	SPARSE_CRS_SPARSE_CCS.f90 \
	SPARSE_CRS_TERM_COUNT.f90 \
	SPARSE_CRS_TO_FULL.f90 \
	SPARSE_MAT_DIAG_ZEROS.f90 \
	STMERR.f90 \
	SURFACE_FIT.f90 \
	SYM_MAT_DECOMP_IntMKL.f90 \
	SYM_MAT_DECOMP_LAPACK.f90 \
	TIME_INIT.f90 \
	VECTOR_NORM.f90 \
	WRITE_ALLOC_MEM_TABLE.f90 \
	WRITE_DOF_TABLES.f90 \
	WRITE_EDAT.f90 \
	WRITE_ELM_OT4.f90 \
	WRITE_EOFIL.f90 \
	WRITE_FILNAM.f90 \
	WRITE_GRD_OT4.f90 \
	WRITE_GRID_COORDS.f90 \
	WRITE_INTEGER_VEC.f90 \
	WRITE_L1A.f90 \
	WRITE_L1M.f90 \
	WRITE_L1Z.f90 \
	WRITE_MATRIX_1.f90 \
	WRITE_MATRIX_BY_COLS.f90 \
	WRITE_MATRIX_BY_ROWS.f90 \
	WRITE_MEM_SUM_TO_F04.f90 \
	WRITE_OU4_FULL_MAT.f90 \
	WRITE_OU4_SPARSE_MAT.f90 \
	WRITE_PARTNd_MAT_HDRS.f90 \
	WRITE_SPARSE_CRS.f90 \
	WRITE_TDOF.f90 \
	WRITE_TSET.f90 \
	WRITE_USERIN_BD_CARDS.f90 \
	WRITE_USET.f90 \
	WRITE_USETSTR.f90 \
	WRITE_VECTOR.f90

# remove *.mod *.interface when mod_suffix is repaired for OS X
CLEANFILES = *.$(FC_MODEXT) *.interface *.d *.fh

util_f90s=$(util_SOURCES:.F90=.f90)

lib_MODULES=$(util_f90s:.f90=.$(FC_MODEXT))

include $(top_srcdir)/make.rules

libutil_a_SOURCES = $(util_SOURCES)
